# 4 配件设置
### 4.1 概述
本章描述了 HomeKit 设置有效载荷信息如何由附件生成、存储、显示和传送到控制器以进行配对。
### 4.2 设置有效载荷
#### 4.2.1 设置 Code
设置代码必须符合 XXXXXXXX 格式，其中每个 X 是 0-9 位数字。例如，10148005。为了生成附件 SRP 验证器（参见“5.6 配对设置”（第 34 页）），设置代码必须格式化为 XXX-XX-XXX（包括破折号）。在本示例中，SRP 验证器使用的设置代码格式必须为 101-48-005。
##### 4.2.1.1 设置代码的生成
如果配件产生随机设置码，它必须符合以下规则：
* 附件必须在每次需要时生成新的设置代码。
* 附件必须从加密安全的随机数生成器中生成设置代码。
* 设置代码不得来自公开信息，例如序列号、制造商日期、MAC 地址、原产地等。

如果配件无法生成动态设置代码，则它必须符合以下规则：
* 必须为每个单独的附件生成随机设置代码。
* 制造过程必须使用加密安全的随机数生成器。
* 必须使用 SRP 验证器来制造附件以用于设置代码，而不是原始设置代码。
* 设置代码不得来自公开信息，例如序列号、制造日期、MAC 地址、原产地等。
##### 4.2.1.2 无效的设置代码
以下是由于其琐碎、不安全的性质而不得使用的设置代码示例：
00000000、11111111、22222222、33333333、12345678、87654321